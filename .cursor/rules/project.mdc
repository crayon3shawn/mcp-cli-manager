---
description: 
globs: 
alwaysApply: true
---
rules:
  - name: "Shell Script Standards"
    description: "Zsh script development standards"
    pattern: "**/*.{sh,zsh}"
    rule: |
      1. Follow Z Shell Best Practices
      2. Comments in English:
         - Function and module description required
         - Complex logic needs inline comments
      3. Error handling:
         - Error messages in English
         - Include Reason and Solution
         - Use standard prefixes: [ERROR], [WARN]
      4. Directory structure:
         bin/ - executables
         lib/ - core logic
         tests/ - test files
      5. Zsh features:
         - Use associative arrays without declaration
         - Leverage zsh parameter expansion
         - Follow zsh function naming conventions

  - name: "Configuration Standards"
    description: "YAML configuration format"
    pattern: "**/*.{yaml,yml}"
    rule: |
      1. Use YAML format
      2. Follow XDG Base Directory spec
      3. Clear configuration structure
      4. Include necessary comments

  - name: "Documentation Standards"
    description: "Documentation guidelines"
    pattern: "**/*.md"
    rule: |
      1. Language:
         - All documentation in English
      2. Structure:
         - Clear heading hierarchy
         - Include examples when needed
         - Code blocks with language tags (use ```zsh for shell examples)
      3. Types:
         - cli_usage.md: CLI usage guide
         - design.md: Design document

  - name: "Test Standards"
    description: "Test file guidelines"
    pattern: "tests/**/*.{sh,zsh}"
    rule: |
      1. Testing frameworks:
         - Use native zsh testing or zunit for unit tests
         - Fallback to manual tests with clear documentation
      2. Test coverage:
         - Configuration management
         - Process control
         - Utility functions
         - Security validation
      3. Clear test descriptions

  - name: "Release Standards"
    description: "Release management standards"
    pattern: "**/CHANGELOG.md"
    rule: |
      1. Version format: major.minor.patch
      2. Release checklist:
         - Unit tests passed
         - Documentation updated
         - Version tagged